<div class="flex items-center justify-center px-0 pl-4">
  <div class="max-w-md w-full bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-8 space-y-6 text-center">
 
    <div class="flex justify-center">
      <div class="w-20 h-20 flex items-center justify-center rounded-lg">
        <img src="assets/imgs/logo.png" alt="Clickly" />
      </div>
    </div>

    <h2 class="text-2xl font-bold text-gray-800 dark:text-gray-100">تأیید کد ورود</h2>
    <p class="text-sm text-gray-500 dark:text-gray-400">
      کد ۵ رقمی ارسال شده به ایمیل / شماره موبایل خود را وارد کنید
    </p>

    <form action="#" method="POST" class="space-y-6">
      <div class="flex justify-between gap-2 rtl:flex-row-reverse">
        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-brand-2 focus:border-brand-2 outline-none" />
        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-brand-2 focus:border-brand-2 outline-none" />
        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-brand-2 focus:border-brand-2 outline-none" />
        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-brand-2 focus:border-brand-2 outline-none" />
        <input type="text" maxlength="1" class="w-12 h-12 text-center text-xl rounded-lg border border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-gray-100 focus:ring-2 focus:ring-brand-2 focus:border-brand-2 outline-none" />
      </div>

      <button type="submit"
        class="w-full bg-brand text-white font-bold py-3 rounded-xl hover:bg-brand/90 transition">
        تأیید و ورود
      </button>
    </form>

    <div class="text-sm text-gray-500 dark:text-gray-400">
      <span>ارسال مجدد کد تا <span id="timer">60</span> ثانیه دیگر</span>
      <br>
      <a href="#" class="text-brand hover:underline hidden" id="resend">ارسال مجدد کد</a>
    </div>
  </div>
</div>
<script>
  let time = 60;
  const timerEl = document.getElementById("timer");
  const resendEl = document.getElementById("resend");

  const countdown = setInterval(() => {
    if (time > 0) {
      time--;
      timerEl.textContent = time;
    } else {
      clearInterval(countdown);
      timerEl.parentElement.style.display = "none";
      resendEl.classList.remove("hidden");
    }
  }, 1000);

  const inputs = document.querySelectorAll("input[maxlength='1']");
  inputs.forEach((input, index) => {
    input.addEventListener("input", (e) => {
      input.value = input.value.replace(/[^0-9]/g, "");
      
      if (input.value.length === 1 && index < inputs.length - 1) {
        inputs[index + 1].focus();
      }
    });

    input.addEventListener("keydown", (e) => {
      if (e.key === "Backspace" && !input.value && index > 0) {
        inputs[index - 1].focus();
      }
    });

    input.addEventListener("paste", (e) => {
      const pasteData = e.clipboardData.getData("text").replace(/[^0-9]/g, "");
      if (pasteData.length === inputs.length) {
        inputs.forEach((inp, i) => inp.value = pasteData[i] || "");
      }
      e.preventDefault();
    });
  });
</script>
